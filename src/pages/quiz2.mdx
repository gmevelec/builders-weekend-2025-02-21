import { postData, Button, loadData } from "@morph-data/components";

# Quiz

export const quiz = loadData("get_next_quiz", "json");

## We have { JSON.stringify(quiz.value?.items) } quiz.

export const { run: wrongRun, running: wrongRunning } = postData("quiz_wrong");
export const { run: successRun, running: successRunning } =
  postData("quiz_success");
export const { run: nextRun, running: nextRunning } = postData("get_next_quiz");

<Button onClick={() => nextRun({}, "get_next_quiz")} isLoading={nextRunning()}>
  Get next
</Button>

<Button
  onClick={async () => {
    await wrongRun({ id: quiz.value?.items[0].quiz_coming_id }, "quiz_wrong");
    quiz.refresh(true);
  }}
  isLoading={wrongRunning()}
>
  Failed
</Button>

<Button
  onClick={async () => {
    await successRun(
      { id: quiz.value?.items[0].quiz_coming_id },
      "quiz_success"
    );
    quiz.refresh(true);
  }}
  isLoading={successRunning()}
>
  Success
</Button>
